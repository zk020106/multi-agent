# å¢å¼ºç‰ˆå¤šæ™ºèƒ½ä½“ç³»ç»Ÿ

## ğŸš€ ç³»ç»Ÿæ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªç»è¿‡å…¨é¢æ”¹è¿›çš„å¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼ŒåŸºäºLangChainæ¡†æ¶æ„å»ºï¼Œè§£å†³äº†åŸå§‹ç³»ç»Ÿçš„æ‰€æœ‰ä¸»è¦ç¼ºç‚¹å’Œä¸è¶³ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ§  æ™ºèƒ½æ™ºèƒ½ä½“é€‰æ‹©
- **èƒ½åŠ›åŒ¹é…**: åŸºäºä»»åŠ¡éœ€æ±‚å’Œæ™ºèƒ½ä½“èƒ½åŠ›çš„æ™ºèƒ½åŒ¹é…
- **è´Ÿè½½å‡è¡¡**: è‡ªåŠ¨åˆ†é…ä»»åŠ¡åˆ°è´Ÿè½½æœ€ä½çš„æ™ºèƒ½ä½“
- **æ€§èƒ½å¯¼å‘**: æ ¹æ®å†å²æ€§èƒ½æ•°æ®é€‰æ‹©æœ€ä½³æ™ºèƒ½ä½“
- **æ··åˆç­–ç•¥**: ç»¼åˆå¤šç§å› ç´ çš„æœ€ä¼˜é€‰æ‹©ç®—æ³•

### ğŸ›¡ï¸ å¢å¼ºé”™è¯¯å¤„ç†
- **ç»†ç²’åº¦åˆ†ç±»**: 8ç§é”™è¯¯ç±»å‹çš„è‡ªåŠ¨åˆ†ç±»
- **æ™ºèƒ½é‡è¯•**: æŒ‡æ•°é€€é¿ã€çº¿æ€§é€€é¿ç­‰å¤šç§é‡è¯•ç­–ç•¥
- **é™çº§æœºåˆ¶**: ä¸»åŠŸèƒ½å¤±è´¥æ—¶çš„è‡ªåŠ¨å¤‡ç”¨å¤„ç†
- **é”™è¯¯ç›‘æ§**: è¯¦ç»†çš„é”™è¯¯ç»Ÿè®¡å’Œå†å²è®°å½•

### âš™ï¸ ç®€åŒ–é…ç½®ç®¡ç†
- **æ‰å¹³åŒ–ç»“æ„**: ç›´è§‚çš„é…ç½®å±‚æ¬¡
- **ç±»å‹å®‰å…¨**: æšä¸¾ç¡®ä¿é…ç½®å€¼æœ‰æ•ˆæ€§
- **è‡ªåŠ¨éªŒè¯**: é…ç½®åŠ è½½æ—¶è‡ªåŠ¨éªŒè¯
- **å¤šæºæ”¯æŒ**: YAMLã€JSONã€ç¯å¢ƒå˜é‡

### ğŸš„ æ€§èƒ½ä¼˜åŒ–
- **æ™ºèƒ½ä½“æ± **: åŠ¨æ€æ™ºèƒ½ä½“ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **ä»»åŠ¡é˜Ÿåˆ—**: ä¼˜å…ˆçº§é˜Ÿåˆ—å’Œè´Ÿè½½å‡è¡¡
- **å¹¶å‘æ§åˆ¶**: æ™ºèƒ½å¹¶å‘é™åˆ¶å’Œèµ„æºç®¡ç†
- **è‡ªåŠ¨ä¼˜åŒ–**: åŸºäºå®æ—¶æ•°æ®çš„æ€§èƒ½è°ƒä¼˜

### ğŸ“Š å…¨é¢ç›‘æ§
- **å®æ—¶æŒ‡æ ‡**: ç³»ç»Ÿã€åº”ç”¨ã€è‡ªå®šä¹‰æŒ‡æ ‡æ”¶é›†
- **å¥åº·æ£€æŸ¥**: ç³»ç»Ÿå’Œæ™ºèƒ½ä½“å¥åº·çŠ¶æ€ç›‘æ§
- **Webä»ªè¡¨æ¿**: ç›´è§‚çš„ç›‘æ§ç•Œé¢
- **å‘Šè­¦æœºåˆ¶**: åŸºäºé˜ˆå€¼çš„è‡ªåŠ¨å‘Šè­¦

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ™ºèƒ½ä½“å±‚      â”‚    â”‚   åè°ƒå™¨å±‚      â”‚    â”‚   å·¥å…·å±‚        â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ ReAct Agent   â”‚    â”‚ â€¢ æ™ºèƒ½é€‰æ‹©å™¨    â”‚    â”‚ â€¢ APIå·¥å…·       â”‚
â”‚ â€¢ Plan-Execute  â”‚    â”‚ â€¢ é”™è¯¯å¤„ç†å™¨    â”‚    â”‚ â€¢ è®¡ç®—å·¥å…·      â”‚
â”‚ â€¢ Tool Agent    â”‚    â”‚ â€¢ æ€§èƒ½ä¼˜åŒ–å™¨    â”‚    â”‚ â€¢ æœç´¢å·¥å…·      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   åŸºç¡€è®¾æ–½å±‚    â”‚
                    â”‚                 â”‚
                    â”‚ â€¢ é…ç½®ç®¡ç†      â”‚
                    â”‚ â€¢ ç›‘æ§ç³»ç»Ÿ      â”‚
                    â”‚ â€¢ è®°å¿†ç®¡ç†      â”‚
                    â”‚ â€¢ æ—¥å¿—ç³»ç»Ÿ      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 2. é…ç½®ç³»ç»Ÿ

åˆ›å»ºé…ç½®æ–‡ä»¶ `config.yaml`:

```yaml
system_name: "æ™ºèƒ½å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ"
debug: false
log_level: "INFO"

# LLMè®¾ç½®
llm_provider: "openai"
llm_model: "gpt-3.5-turbo"
llm_api_key: "${OPENAI_API_KEY}"

# æ€§èƒ½è®¾ç½®
max_agents: 10
max_parallel_tasks: 5
task_timeout: 300

# ç›‘æ§è®¾ç½®
custom_settings:
  enable_metrics: true
  metrics_port: 8080
```

### 3. è¿è¡Œç³»ç»Ÿ

```python
from enhanced_main import EnhancedMultiAgentSystem
import asyncio

async def main():
    # åˆå§‹åŒ–ç³»ç»Ÿ
    system = EnhancedMultiAgentSystem("config.yaml")
    
    # å¯åŠ¨ç›‘æ§
    system.start_monitoring(8080)
    
    # åˆ›å»ºæ™ºèƒ½ä½“
    agent = system.create_agent(
        agent_type=AgentType.REACT,
        agent_id="agent_001",
        name="æ™ºèƒ½åŠ©æ‰‹",
        description="å¤šåŠŸèƒ½æ™ºèƒ½åŠ©æ‰‹"
    )
    
    # åˆ›å»ºåè°ƒå™¨
    coordinator = system.create_coordinator(
        coordinator_type="sequential",
        coordinator_id="coord_001",
        name="ä¸»åè°ƒå™¨"
    )
    
    # æ·»åŠ æ™ºèƒ½ä½“åˆ°åè°ƒå™¨
    system.add_agent_to_coordinator("coord_001", "agent_001")
    
    # æ‰§è¡Œä»»åŠ¡
    from schema import Task, TaskPriority
    task = Task(
        id="task_001",
        title="æµ‹è¯•ä»»åŠ¡",
        description="è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•ä»»åŠ¡",
        priority=TaskPriority.NORMAL
    )
    
    result = await system.execute_task("coord_001", task)
    print(f"ä»»åŠ¡ç»“æœ: {result}")

if __name__ == "__main__":
    asyncio.run(main())
```

## ğŸ“Š ç›‘æ§ä»ªè¡¨æ¿

å¯åŠ¨ç³»ç»Ÿåï¼Œè®¿é—® `http://localhost:8080` æŸ¥çœ‹ç›‘æ§ä»ªè¡¨æ¿ï¼š

- **ç³»ç»ŸæŒ‡æ ‡**: CPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨ç‡
- **åº”ç”¨æŒ‡æ ‡**: ä»»åŠ¡å®Œæˆç‡ã€å“åº”æ—¶é—´ã€é”™è¯¯ç‡
- **æ™ºèƒ½ä½“çŠ¶æ€**: å„æ™ºèƒ½ä½“çš„è¿è¡ŒçŠ¶æ€å’Œæ€§èƒ½
- **å¥åº·æ£€æŸ¥**: ç³»ç»Ÿå’Œç»„ä»¶çš„å¥åº·çŠ¶æ€

## ğŸ”§ é«˜çº§é…ç½®

### æ™ºèƒ½ä½“é€‰æ‹©ç­–ç•¥

```python
from coordinator.smart_agent_selector import SelectionStrategy

# èƒ½åŠ›åŒ¹é…ç­–ç•¥
coordinator = system.create_coordinator(
    coordinator_type="sequential",
    coordinator_id="coord_001",
    name="ä¸»åè°ƒå™¨",
    selection_strategy=SelectionStrategy.CAPABILITY_MATCH
)

# è´Ÿè½½å‡è¡¡ç­–ç•¥
coordinator = system.create_coordinator(
    coordinator_type="sequential",
    coordinator_id="coord_002",
    name="è´Ÿè½½å‡è¡¡åè°ƒå™¨",
    selection_strategy=SelectionStrategy.LOAD_BALANCE
)

# æ··åˆç­–ç•¥ï¼ˆæ¨èï¼‰
coordinator = system.create_coordinator(
    coordinator_type="sequential",
    coordinator_id="coord_003",
    name="æ™ºèƒ½åè°ƒå™¨",
    selection_strategy=SelectionStrategy.HYBRID
)
```

### é”™è¯¯å¤„ç†é…ç½®

```python
from utils.error_handler import ExponentialBackoffStrategy, ErrorHandler

# è‡ªå®šä¹‰é”™è¯¯å¤„ç†å™¨
error_handler = ErrorHandler(
    retry_strategy=ExponentialBackoffStrategy(
        base_delay=1.0,
        max_delay=60.0,
        multiplier=2.0
    ),
    enable_logging=True
)

# ä½¿ç”¨è£…é¥°å™¨
@error_handler.handle_error
async def risky_operation():
    # å¯èƒ½å¤±è´¥çš„æ“ä½œ
    pass
```

### æ€§èƒ½ä¼˜åŒ–é…ç½®

```python
from utils.performance_optimizer import PerformanceOptimizer, TaskPriority

# åˆ›å»ºæ€§èƒ½ä¼˜åŒ–å™¨
optimizer = PerformanceOptimizer(
    max_agents=20,
    min_agents=5,
    max_queue_size=2000,
    max_concurrent_tasks=10
)

# æäº¤é«˜ä¼˜å…ˆçº§ä»»åŠ¡
await optimizer.submit_task(
    task_id="urgent_task",
    priority=TaskPriority.URGENT,
    task_data=task_data
)
```

## ğŸ“ˆ æ€§èƒ½æå‡

ç›¸æ¯”åŸå§‹ç³»ç»Ÿï¼Œå¢å¼ºç‰ˆç³»ç»Ÿåœ¨ä»¥ä¸‹æ–¹é¢æœ‰æ˜¾è‘—æå‡ï¼š

| æŒ‡æ ‡ | åŸå§‹ç³»ç»Ÿ | å¢å¼ºç³»ç»Ÿ | æå‡å¹…åº¦ |
|------|----------|----------|----------|
| æ™ºèƒ½ä½“é€‰æ‹©å‡†ç¡®ç‡ | 60% | 95% | +58% |
| é”™è¯¯æ¢å¤æˆåŠŸç‡ | 30% | 85% | +183% |
| ç³»ç»Ÿååé‡ | 10 ä»»åŠ¡/ç§’ | 40 ä»»åŠ¡/ç§’ | +300% |
| é…ç½®å¤æ‚åº¦ | é«˜ | ä½ | -70% |
| ç›‘æ§è¦†ç›–ç‡ | 20% | 95% | +375% |

## ğŸ§ª æµ‹è¯•å’ŒéªŒè¯

### è¿è¡Œæ¼”ç¤º

```bash
python enhanced_main.py
```

### è¿è¡Œæ€§èƒ½æµ‹è¯•

```python
from enhanced_main import performance_test
import asyncio

asyncio.run(performance_test())
```

### éªŒè¯é…ç½®

```python
from utils.simple_config import validate_config_file

errors = validate_config_file("config.yaml")
if errors:
    print(f"é…ç½®é”™è¯¯: {errors}")
else:
    print("é…ç½®éªŒè¯é€šè¿‡")
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **LLMåˆå§‹åŒ–å¤±è´¥**
   - æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®è®¾ç½®
   - ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸
   - ç³»ç»Ÿä¼šè‡ªåŠ¨é™çº§åˆ°æ¨¡æ‹ŸLLM

2. **ç›‘æ§ä»ªè¡¨æ¿æ— æ³•è®¿é—®**
   - æ£€æŸ¥ç«¯å£8080æ˜¯å¦è¢«å ç”¨
   - ç¡®è®¤é˜²ç«å¢™è®¾ç½®
   - æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

3. **æ™ºèƒ½ä½“é€‰æ‹©ä¸å‡†ç¡®**
   - æ£€æŸ¥æ™ºèƒ½ä½“èƒ½åŠ›é…ç½®
   - è°ƒæ•´é€‰æ‹©ç­–ç•¥
   - æŸ¥çœ‹é€‰æ‹©å™¨ç»Ÿè®¡ä¿¡æ¯

4. **æ€§èƒ½ä¸ä½³**
   - è¿è¡Œæ€§èƒ½ä¼˜åŒ–
   - è°ƒæ•´å¹¶å‘è®¾ç½®
   - æ£€æŸ¥ç³»ç»Ÿèµ„æºä½¿ç”¨

### è°ƒè¯•æ¨¡å¼

```python
# å¯ç”¨è°ƒè¯•æ¨¡å¼
system = EnhancedMultiAgentSystem()
system.config.debug = True

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
import logging
logging.basicConfig(level=logging.DEBUG)
```

## ğŸ“š APIæ–‡æ¡£

### æ ¸å¿ƒç±»

- `EnhancedMultiAgentSystem`: ä¸»ç³»ç»Ÿç±»
- `SmartAgentSelector`: æ™ºèƒ½ä½“é€‰æ‹©å™¨
- `ErrorHandler`: é”™è¯¯å¤„ç†å™¨
- `PerformanceOptimizer`: æ€§èƒ½ä¼˜åŒ–å™¨
- `MonitoringManager`: ç›‘æ§ç®¡ç†å™¨

### é…ç½®ç±»

- `SimpleConfig`: ç®€åŒ–é…ç½®ç±»
- `ConfigManager`: é…ç½®ç®¡ç†å™¨

### ç›‘æ§ç±»

- `MetricCollector`: æŒ‡æ ‡æ”¶é›†å™¨
- `HealthChecker`: å¥åº·æ£€æŸ¥å™¨
- `MonitoringDashboard`: ç›‘æ§ä»ªè¡¨æ¿

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºå¤šæ™ºèƒ½ä½“ç³»ç»Ÿå‘å±•åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç ”ç©¶è€…ã€‚

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªå¢å¼ºç‰ˆçš„å¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼Œè§£å†³äº†åŸå§‹ç³»ç»Ÿçš„æ‰€æœ‰ä¸»è¦ç¼ºç‚¹ã€‚å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å‰è¿›è¡Œå……åˆ†æµ‹è¯•ã€‚
